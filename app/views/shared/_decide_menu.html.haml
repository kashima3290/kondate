= render "shared/header"
.ui.container
  .ui.grid{style: "margin-top: 10px;"}
    .column
      .ui.huge.massive.grey.tag.label
        = @random_menu.name + "にしましょう"
  .ui.stackable.two.column.grid{style: "margin-top: 30px;"}
    .column
      .previews
        .slider
          = image_tag @random_menu.menu_images[0].image.url
          - if @random_menu.menu_images[1].present?
            - @random_menu.menu_images.each_with_index do |i, index|
              - next if index == 0
              = image_tag @random_menu.menu_images[index].image.url
    .column
      - if @random_menu.genre.present?
        .ui.dividing.header ジャンル
        %p= @random_menu.genre
      - if @random_menu.site.present?
        .ui.dividing.header 関連URI
        %a{href: @random_menu.site}= @random_menu.site
      - if @random_menu.text.present?
        .ui.dividing.header メモ
        %p= @random_menu.text
  .ui.text.container.center.aligned.grid{style: "margin-top: 40px;"}
    = link_to "この気分じゃない", random_menu_decide_menus_path, class: "fluid ui orange big button", style: "margin-bottom: 40px;"

-# = javascript_pack_tag 'slick_slider.js'

:javascript
  $(function() {
    $('.slider').slick({
        arrows: true,
        prevArrow:'<i class="angle left big icon"></i>',
        nextArrow:'<i class="angle right big icon"></i>',
        dots: true,
        autoplay: true,
        autoplaySpeed: 4000,
        speed: 800
    });

    $('.slick-dots li').on('mouseover', function() {
      $('.slider').slick('goTo', $(this).index());
    });
  });

:css
  .slider img {
      width: 100%;
      height: 50vh; /* 画像の高さ指定 */
      object-fit: cover;
  }
  .slick-arrow {
    position: absolute;
    top: 25vh; /* 画像の高さの半分＝画像の真ん中に配置 */
    margin: auto;
  }
  .left {
    left: 0;
    z-index: 10;
  }
  .right {
    right: 0;
  }